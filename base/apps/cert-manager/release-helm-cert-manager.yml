---
apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
  # The name of this release
  name: cert-manager
  # The namespace for this release will be set by the Kustomization in the cluster folder
spec:
  interval: 15m
  chart:
    spec:
      chart: cert-manager 
      version: 1.18.0 
      sourceRef:
        kind: HelmRepository
        # This must match the name of the HelmRepository object above
        name: cert-manager-repo
        namespace: cert-manager
  install:
    remediation:
      retries: 3
    crds: CreateReplace 
  upgrade:
    remediation:
      retries: 3
    crds: CreateReplace 
  # You can override chart values here, just like in a values.yaml file
  values:
      # We will override this hostname per-environment
    installCRDs: true
    replicaCount: 1
